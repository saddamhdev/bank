Perfect choice ğŸ‘ â€” **Banking Account Summary Aggregator** is a **textbook enterprise use-case** (core banking, fintech, wallet apps).

Below is a **FULL, REAL, CONTRACT-FIRST Spring Boot project** where:

* API is **defined in OpenAPI YAML**
* **Controller is generated** (you implement only)
* Uses **@ConfigurationProperties**
* Aggregates **Account + Balance + Transactions**
* Uses **WebClient (Reactive)**
* Has **timeout + fallback**
* Has **global exception handling**
* Has **Swagger UI**

This is **bank-grade**, CV-ready, interview-ready.

---

## ğŸ¦ Use Case: Banking Account Summary

**Client wants ONE API**:

```
GET /api/v1/account-summary/{customerId}
```

Response includes:

* Customer basic info
* Account list
* Current balances
* Recent transactions

---

## ğŸ§± High-Level Architecture

```
Mobile App / Web
        |
        v
Account-Summary-Aggregator
   |        |         |
   v        v         v
Customer  Account   Transaction
 Service  Service     Service
```

---

# ğŸ“ Project Structure

```
banking-account-summary/
â”œâ”€ pom.xml
â”œâ”€ src/main/resources/
â”‚  â”œâ”€ application.yml
â”‚  â””â”€ openapi/account-summary-api.yml
â””â”€ src/main/java/com/example/banking/
   â”œâ”€ BankingAggregatorApplication.java
   â”œâ”€ config/
   â”‚  â”œâ”€ ServiceProperties.java
   â”‚  â”œâ”€ WebClientConfig.java
   â”‚  â””â”€ OpenApiConfig.java
   â”œâ”€ client/
   â”‚  â”œâ”€ CustomerClient.java
   â”‚  â”œâ”€ AccountClient.java
   â”‚  â””â”€ TransactionClient.java
   â”œâ”€ service/
   â”‚  â””â”€ AccountSummaryService.java
   â”œâ”€ controller/
   â”‚  â””â”€ AccountSummaryController.java
   â””â”€ exception/
      â””â”€ GlobalExceptionHandler.java
```

---

# 1ï¸âƒ£ `pom.xml` (Spring Boot 3 + OpenAPI)

ğŸ‘‰ **Same as previous**, domain independent
(If you want, I can re-paste it again â€” keeping response clean)

---

# 2ï¸âƒ£ `application.yml`

```yaml
server:
  port: 8090

services:
  customer:
    base-url: http://localhost:8081
  account:
    base-url: http://localhost:8082
  transaction:
    base-url: http://localhost:8083

springdoc:
  swagger-ui:
    path: /swagger-ui.html
```

---

# 3ï¸âƒ£ OpenAPI YAML (SOURCE OF TRUTH)

## `account-summary-api.yml`

```yaml
openapi: 3.0.3
info:
  title: Banking Account Summary API
  version: 1.0.0
  description: Aggregated account summary for banking customers

paths:
  /api/v1/account-summary/{customerId}:
    get:
      summary: Get account summary
      operationId: getAccountSummary
      parameters:
        - name: customerId
          in: path
          required: true
          schema:
            type: integer
            minimum: 1
      responses:
        "200":
          description: Account summary response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountSummary"
        "400":
          description: Invalid customerId
        "500":
          description: Internal server error

components:
  schemas:
    AccountSummary:
      type: object
      properties:
        customer:
          $ref: "#/components/schemas/Customer"
        accounts:
          type: array
          items:
            $ref: "#/components/schemas/Account"
        transactions:
          type: array
          items:
            $ref: "#/components/schemas/Transaction"

    Customer:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string

    Account:
      type: object
      properties:
        accountNumber:
          type: string
        type:
          type: string
        balance:
          type: number

    Transaction:
      type: object
      properties:
        txnId:
          type: string
        amount:
          type: number
        type:
          type: string
        date:
          type: string
```

âœ… Validation from YAML
âœ… DTOs auto-generated
âœ… Swagger auto-sync

---

# 4ï¸âƒ£ `@ConfigurationProperties`

## `ServiceProperties.java`

```java
@ConfigurationProperties(prefix = "services")
@Component
public class ServiceProperties {

    private Service customer;
    private Service account;
    private Service transaction;

    public static class Service {
        private String baseUrl;
        public String getBaseUrl() { return baseUrl; }
        public void setBaseUrl(String baseUrl) { this.baseUrl = baseUrl; }
    }

    public Service getCustomer() { return customer; }
    public void setCustomer(Service customer) { this.customer = customer; }

    public Service getAccount() { return account; }
    public void setAccount(Service account) { this.account = account; }

    public Service getTransaction() { return transaction; }
    public void setTransaction(Service transaction) { this.transaction = transaction; }
}
```

---

# 5ï¸âƒ£ Downstream Clients

## `CustomerClient`

```java
@Component
public class CustomerClient {

    private final WebClient webClient;

    public CustomerClient(WebClient.Builder builder, ServiceProperties props) {
        this.webClient = builder.baseUrl(props.getCustomer().getBaseUrl()).build();
    }

    public Mono<Customer> getCustomer(Long customerId) {
        return webClient.get()
                .uri("/customers/{id}", customerId)
                .retrieve()
                .bodyToMono(Customer.class);
    }
}
```

---

## `AccountClient`

```java
@Component
public class AccountClient {

    private final WebClient webClient;

    public AccountClient(WebClient.Builder builder, ServiceProperties props) {
        this.webClient = builder.baseUrl(props.getAccount().getBaseUrl()).build();
    }

    public Mono<List<Account>> getAccounts(Long customerId) {
        return webClient.get()
                .uri("/accounts/customer/{id}", customerId)
                .retrieve()
                .bodyToFlux(Account.class)
                .collectList();
    }
}
```

---

## `TransactionClient`

```java
@Component
public class TransactionClient {

    private final WebClient webClient;

    public TransactionClient(WebClient.Builder builder, ServiceProperties props) {
        this.webClient = builder.baseUrl(props.getTransaction().getBaseUrl()).build();
    }

    public Mono<List<Transaction>> getTransactions(Long customerId) {
        return webClient.get()
                .uri("/transactions/recent/{id}", customerId)
                .retrieve()
                .bodyToFlux(Transaction.class)
                .collectList();
    }
}
```

---

# 6ï¸âƒ£ Aggregation Logic (CORE BANKING PART)

## `AccountSummaryService.java`

```java
@Service
public class AccountSummaryService {

    private final CustomerClient customerClient;
    private final AccountClient accountClient;
    private final TransactionClient transactionClient;

    public AccountSummaryService(
            CustomerClient customerClient,
            AccountClient accountClient,
            TransactionClient transactionClient
    ) {
        this.customerClient = customerClient;
        this.accountClient = accountClient;
        this.transactionClient = transactionClient;
    }

    public Mono<AccountSummary> getSummary(Long customerId) {

        return Mono.zip(
                customerClient.getCustomer(customerId),
                accountClient.getAccounts(customerId),
                transactionClient.getTransactions(customerId)
        )
        .timeout(Duration.ofSeconds(3))
        .map(t -> {
            AccountSummary summary = new AccountSummary();
            summary.setCustomer(t.getT1());
            summary.setAccounts(t.getT2());
            summary.setTransactions(t.getT3());
            return summary;
        })
        .onErrorResume(ex -> fallback());
    }

    private Mono<AccountSummary> fallback() {
        AccountSummary s = new AccountSummary();
        s.setCustomer(null);
        s.setAccounts(List.of());
        s.setTransactions(List.of());
        return Mono.just(s);
    }
}
```

ğŸ”¥ Parallel calls
ğŸ”¥ No DB
ğŸ”¥ Resilient

---

# 7ï¸âƒ£ Controller (GENERATED INTERFACE IMPLEMENTATION)

## `AccountSummaryController.java`

```java
@RestController
public class AccountSummaryController implements AccountSummaryApi {

    private final AccountSummaryService service;

    public AccountSummaryController(AccountSummaryService service) {
        this.service = service;
    }

    @Override
    public Mono<ResponseEntity<AccountSummary>> getAccountSummary(Long customerId) {
        return service.getSummary(customerId)
                .map(ResponseEntity::ok);
    }
}
```

ğŸ‘‰ Controller signature is **100% generated from OpenAPI**

---

# 8ï¸âƒ£ Global Exception Handling

```java
@RestControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(ServerWebInputException.class)
    public ResponseEntity<Map<String, Object>> handleBadRequest(ServerWebInputException ex) {

        Map<String, Object> body = Map.of(
                "status", 400,
                "error", "Bad Request",
                "message", ex.getReason()
        );

        return ResponseEntity.badRequest().body(body);
    }

    @ExceptionHandler(Exception.class)
    public ResponseEntity<Map<String, Object>> handleAll(Exception ex) {

        Map<String, Object> body = Map.of(
                "status", 500,
                "error", "Internal Server Error",
                "message", "Unexpected error"
        );

        return ResponseEntity.status(500).body(body);
    }
}
```

---

# ğŸš€ Run & Test

```bash
mvn clean generate-sources
mvn spring-boot:run
```

* Swagger â†’ `http://localhost:8090/swagger-ui.html`
* API â†’ `GET /api/v1/account-summary/1001`

---

# ğŸ§  Interview-Winning Explanation

> â€œWe expose a single Account Summary API using an Aggregator pattern.
> The API contract is defined in OpenAPI, controllers are generated, and aggregation is done reactively using WebClient.
> Configuration is externalized via `@ConfigurationProperties`, and resilience is handled with timeout and fallback.â€

---

## ğŸ”œ Want next?

I can:

* Add **JWT + role-based access (CUSTOMER / ADMIN)**
* Add **Redis cache for account summary**
* Add **API Gateway in front**
* Add **mock Customer/Account/Transaction services**
* Prepare **GitHub README + architecture diagram**

Just tell me â€” this is already **bank-level architecture** ğŸ¦ğŸ”¥
