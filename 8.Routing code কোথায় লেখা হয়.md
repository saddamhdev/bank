рж╕ржВржХрзНрж╖рзЗржкрзЗ ржЙрждрзНрждрж░ ЁЯСЙ **ржирж╛**, ржПржЗ **pipeline YAML-ржП routing code рж▓рзЗржЦрж╛ ржпрж╛рзЯ ржирж╛**ред
ржХрж┐ржирзНрждрзБ ЁЯСЙ **routing ржХрж┐ржнрж╛ржмрзЗ рж╣ржмрзЗ рж╕рзЗржЯрж╛ indirectly control ржХрж░рж╛ ржпрж╛рзЯ**ред

ржЖржорж┐ ржзрзАрж░рзЗ ржзрзАрж░рзЗ ржмрзБржЭрж╛ржЗ ЁЯСЗ

---

## ЁЯФ╣ Pipeline ржЖрж╕рж▓рзЗ ржХрзА ржХрж░рзЗ?

ржПржЗ pipeline (ржпрзЗржЯрж╛ рждрзБржорж┐ ржжрзЗржЦрж┐рзЯрзЗржЫ) ржХрж░рзЗ:

* App **deploy** ржХрж░рзЗ
* ржХржд **instance** ржЪрж▓ржмрзЗ рж╕рзЗржЯ ржХрж░рзЗ
* **autoscaling** attach ржХрж░рзЗ
* ржХрзЛржи **environment** (test / uat / prod) рж╕рзЗржЯ ржХрж░рзЗ
* ржХрзЛржи **service / route expose рж╣ржмрзЗ** рж╕рзЗржЯрж╛ enable/disable ржХрж░рзЗ

ЁЯСЙ ржорж╛ржирзЗ: **App ржХрзЛржерж╛рзЯ ржпрж╛ржмрзЗ, ржХрж┐ржнрж╛ржмрзЗ ржЪрж▓ржмрзЗ**
тЭМ ржХрж┐ржирзНрждрзБ **request ржХрж┐ржнрж╛ржмрзЗ route рж╣ржмрзЗ** рж╕рзЗржЯрж╛ ржирж╛

---

## ЁЯФ╣ Routing code ржХрзЛржерж╛рзЯ рж▓рзЗржЦрж╛ рж╣рзЯ?

Routing code рж▓рзЗржЦрж╛ рж╣рзЯ **ржПржЗ ржЬрж╛рзЯржЧрж╛ржЧрзБрж▓рзЛрждрзЗ**:

### тЬЕ 1я╕ПтГг API Gateway (Spring Cloud Gateway)

```yaml
spring:
  cloud:
    gateway:
      routes:
        - id: account
          uri: http://account-service
          predicates:
            - Path=/accounts/**
```

ЁЯСЙ **ржПржЯрж╛ржЗ ржЖрж╕рж▓ routing code**

---

### тЬЕ 2я╕ПтГг Cloud / Platform Routing (Cloud Foundry / Gaia)

Pipeline ржПржЦрж╛ржирзЗ рж╢рзБржзрзБ ржмрж▓рзЗ:

```bash
cf push app-name --no-route
cf map-route app-name domain --hostname xyz
```

ЁЯСЙ ржорж╛ржирзЗ:

* route **create / map / unmap**
* ржХрж┐ржирзНрждрзБ **logic ржирж╛**

---

## ЁЯФ╣ рждрж╛рж╣рж▓рзЗ pipeline-ржП ржХрзА ржзрж░ржирзЗрж░ тАЬrouting relatedтАЭ ржЬрж┐ржирж┐рж╕ рж░рж╛ржЦрж╛ ржпрж╛рзЯ?

### тЬФ Allowed (рж╣рзНржпрж╛ржБ, рж░рж╛ржЦрж╛ ржпрж╛рзЯ)

* ржХрзЛржи **URL expose рж╣ржмрзЗ**
* App **public рж╣ржмрзЗ ржирж╛ржХрж┐ private**
* Route **enable / disable**
* Blue-green deploy routing switch

ржЙржжрж╛рж╣рж░ржг:

```bash
cf map-route banker-app gaiacloud.com --hostname banker-test
```

ЁЯСЙ ржПржЯрж╛ **infra routing**, application routing ржирж╛

---

### тЭМ Not allowed (ржПржЯрж╛ pipeline-ржП ржХрж░рж╛ рж╣рзЯ ржирж╛)

* `/accounts/** тЖТ account-service`
* `/auth/** тЖТ auth-service`
* JWT check
* rate limit logic
* device detection

ЁЯСЙ ржПржЧрзБрж▓рзЛ **application routing**
ЁЯСЙ рж╕ржмрж╕ржорзЯ **API Gateway config/code**

---

## ЁЯФ╣ Banking architecture-ржП rule (ржоржирзЗ рж░рж╛ржЦрзЛ)

> **Pipeline decides WHERE the app runs**
> **Gateway decides HOW requests flow**

```
Pipeline тЖТ Deploy & expose
Gateway  тЖТ Route & secure
```

---

## ЁЯФ╣ Real bank example (ржПржХржжржо practical)

### Pipeline ржмрж▓рзЗ:

* auth-service deploy ржХрж░рзЛ
* 2 instance ржЪрж╛рж▓рж╛ржУ
* test environment
* autoscale рж▓рж╛ржЧрж╛ржУ

### Gateway ржмрж▓рзЗ:

* `/auth/login` тЖТ auth-service
* rate limit рж▓рж╛ржЧрж╛ржУ
* JWT validate ржХрж░рзЛ
* device detect ржХрж░рзЛ

ЁЯСЙ ржжрж╛рзЯрж┐рждрзНржм ржЖрж▓рж╛ржжрж╛ тЬФ

---

## ЁЯОд Interview-ржП ржмрж▓рж╛рж░ ржорждрзЛ ржПржХ рж▓рж╛ржЗржи

> тАЬCI/CD pipeline manages deployment and exposure, while routing logic is implemented in the API gateway or platform routing layer.тАЭ

---

## ЁЯФЬ рждрзБржорж┐ ржПржЦржи ржХрзА ржХрж░рждрзЗ ржЪрж╛ржУ?

1я╕ПтГг Pipeline тЖФ Gateway flow diagram
2я╕ПтГг Cloud Foundry route vs Gateway route difference
3я╕ПтГг Blue-green deployment routing
4я╕ПтГг Bank-style CI/CD full flow
5я╕ПтГг Kubernetes equivalent of this pipeline

ржирж╛ржорзНржмрж╛рж░ ржмрж▓рж▓рзЗржЗ ржкрж░рзЗрж░ржЯрж╛ рж╢рзБрж░рзБ ржХрж░ржмрзЛ ЁЯСН
