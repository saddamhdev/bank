ржПржЦржи рждрзБржорж┐ ржпрзЗржЯрж╛ ржжрзЗржЦрж╛ржЪрзНржЫрзЛ тАФ `manifests/` folder тАФ ржПржЯрж╛ ржЖрж╕рж▓рзЗ **Deployment Manifest (Platform Deployment Spec)**ред

ржПржЯрж╛ application code ржирж╛, ржПржЯрж╛ ржмрж▓рзЗ ржжрзЗрзЯ:

> ржПржЗ service platform ржП ржХрж┐ржнрж╛ржмрзЗ run ржХрж░ржмрзЗред

---

# ЁЯУБ Folder Overview

```
assisted-experience/
 тФФтФАтФА manifests/
     тФЬтФАтФА manifest-jules.yml
     тФЬтФАтФА manifest-jules-prod.yml
     тФФтФАтФА manifest-local.yml
```

ржПржЧрзБрж▓рзЛ рж╕рж╛ржзрж╛рж░ржгржд:

* Cloud Foundry
* Tanzu
* PaaS Platform
* Enterprise internal deployment engine

ржПржЧрзБрж▓рзЛрж░ ржЬржирзНржп рж▓рзЗржЦрж╛ рж╣рзЯред

---

# ЁЯФе Core Purpose

ржПржЗ YAML ржмрж▓рзЗ ржжрзЗрзЯ:

тЬФ ржХржд memory рж▓рж╛ржЧржмрзЗ
тЬФ ржХржд instance ржЪрж▓ржмрзЗ
тЬФ ржХрзЛржи WAR deploy рж╣ржмрзЗ
тЬФ ржХрзЛржи environment variable рж▓рж╛ржЧржмрзЗ
тЬФ ржХрзЛржи services attach рж╣ржмрзЗ
тЬФ ржХрзЛржи route ржжрж┐рзЯрзЗ expose рж╣ржмрзЗ

---

# ЁЯФ╣ manifest-local.yml (Local Deployment)

```yaml
applications:
- name: assisted-experience
  health-check-type: http
  health-check-http-endpoint: /actuator/health
  memory: 3G
  instances: 1
  path: ./target/assisted-experience-1.0.0-SNAPSHOT.war
```

### ржорж╛ржирзЗ:

* Local environment
* рззржЯрж╛ instance
* 3GB memory
* WAR file path local build ржерзЗржХрзЗ

---

### env section

```yaml
SPRING_PROFILES_ACTIVE: test, gaia
SPRING_CLOUD_CONFIG_LABEL: develop
JAVA_VERSION: 17.0+
```

ржорж╛ржирзЗ:

* Spring profile activate
* Config server label
* Java version
* Custom DB cache ID

---

### sidecars

```yaml
- name: otel_collector
  process_types: ['web']
  command: sleep 150s;WEB-INF/classes/otelcontrib ...
```

ржорж╛ржирзЗ:

ЁЯСЙ OpenTelemetry sidecar attach ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ
ЁЯСЙ tracing / monitoring ржПрж░ ржЬржирзНржп

---

### services

```yaml
services:
  - assisted-experience-adfs-certs
  - assisted-experience-api-gateway
  - assisted-experience-splunk-logging
```

ржорж╛ржирзЗ:

ржПржЗ app bind рж╣ржЪрзНржЫрзЗ external platform services ржПрж░ рж╕рж╛ржерзЗ:

* ADFS Cert
* API Gateway
* Splunk logging

---

# ЁЯФ╣ manifest-jules.yml

ржПржЗржЯрж╛ environment specific deployment (probably QA/stage)

Key differences:

```yaml
name: ${appName}
path: assisted-experience-${gavVersion}.war
instances: ${instanceCount}
```

ржорж╛ржирзЗ:

ржПржЦрж╛ржирзЗ variable inject рж╣рзЯ CI/CD ржерзЗржХрзЗред

---

# ЁЯФ╣ manifest-jules-prod.yml

Production deploymentред

Differences:

* Memory ржмрзЗрж╢рж┐
* Instance dynamic
* Prod config label
* Possibly different services bind

---

# ЁЯПЧ ржПржЯрж╛ Kubernetes ржирж╛ Cloud Foundry?

ржПржЗ syntax ржжрзЗржЦрзЗ ржоржирзЗ рж╣ржЪрзНржЫрзЗ:

ЁЯСЙ Cloud Foundry style manifest
ЁЯСЙ PaaS deployment
ЁЯСЙ cf push type

Kubernetes рж╣рж▓рзЗ:

* apiVersion
* kind
* metadata
* spec

ржерж╛ржХрждред

ржПржЦрж╛ржирзЗ рж╕рзЗржЯрж╛ ржирзЗржЗред

---

# ЁЯФе Deployment Flow

```
Git Repo
   тЖУ
CI/CD
   тЖУ
Platform (Cloud Foundry / PaaS)
   тЖУ
Container / JVM Run
```

---

# ЁЯза Compare: manifests vs autoscale vs serviceDefinitions

| Folder             | ржХрж╛ржЬ                                |
| ------------------ | ---------------------------------- |
| serviceDefinitions | IP whitelist / external dependency |
| autoscale          | Scaling rule                       |
| manifests          | Deployment config                  |

---

# ЁЯОп Summary

ржПржЗ manifests folder define ржХрж░рзЗ:

тЬФ App name
тЬФ Memory
тЬФ Instance count
тЬФ Health check
тЬФ WAR path
тЬФ Env variables
тЬФ Service bindings
тЬФ Sidecar containers

ржПржЯрж╛ basically Infrastructure-as-Code deployment fileред

---

# ЁЯПж Real Enterprise Structure

ржПржХржЯрж╛ full enterprise microservice ржП ржерж╛ржХрзЗ:

```
/manifests        тЖТ Deployment config
/autoscale        тЖТ Scaling rule
/serviceDefinitions тЖТ Network policy
```

ржПржЯрж╛ржЗ clean separationред

---

рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ ржЖржорж┐ ржПржЦржи explain ржХрж░рждрзЗ ржкрж╛рж░рж┐:

* Cloud Foundry vs Kubernetes difference
* Service binding internally ржХрзАржнрж╛ржмрзЗ inject рж╣рзЯ
* Sidecar pattern (otel_collector) deep explanation
* CI/CD pipeline ржП variable injection flow

ржХрзЛржиржЯрж╛ deep ржЬрж╛ржирждрзЗ ржЪрж╛ржУ?
